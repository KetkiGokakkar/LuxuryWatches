{% extends 'base.html' %}
{% load humanize %}
{% block title %}Order Confirmed — LuxWatch{% endblock %}
{% block content %}
<section class="section">
    <div class="container">
        <div class="confirmation-card">
            <div class="confirm-icon"><i class="fas fa-check-circle"></i></div>
            <h1>Order <em>Confirmed!</em></h1>
            <p class="confirm-subtitle">Thank you for your purchase. Your luxury timepiece is on its way.</p>
            <div class="order-details-box">
                <div class="detail-row"><span>Order Number</span><strong>{{ order.order_number }}</strong></div>
                <div class="detail-row"><span>Date</span><strong>{{ order.created_at|date:"M d, Y" }}</strong></div>
                <div class="detail-row"><span>Status</span><span class="status-badge status-{{ order.status }}">{{
                        order.get_status_display }}</span></div>
                <div class="detail-row"><span>Total</span><strong class="text-gold">₹{{
                        order.total|floatformat:0|intcomma }}</strong></div>
            </div>
            <h3>Items Ordered</h3>
            {% for item in order.items.all %}
            <div class="confirm-item">
                <span>{{ item.watch_brand }} {{ item.watch_name }} × {{ item.quantity }}</span>
                <span>₹{{ item.line_total|floatformat:0|intcomma }}</span>
            </div>
            {% endfor %}
            <h3>Shipping Address</h3>
            <p>{{ order.full_name }}<br>{{ order.address_line1 }}{% if order.address_line2 %}, {{ order.address_line2
                }}{% endif %}<br>{{ order.city }}, {{ order.state }} - {{ order.postal_code }}<br>{{ order.country }}
            </p>
            <div class="confirm-actions">
                <a href="{% url 'cart:order_history' %}" class="btn btn-outline">View All Orders</a>
                <a href="{% url 'store:watch_list' %}" class="btn btn-gold">Continue Shopping</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}